============================================================
ğŸš€ æ¨¡å‹è¨“ç·´é–‹å§‹: 2025-11-19 11:18:26
============================================================

å¾ config/exclude_movies.csv è®€å–æ’é™¤æ¸…å–®:
  ç™¼ç¾ 5 éƒ¨éœ€è¦æ’é™¤çš„é›»å½±
  æ’é™¤çš„ gov_id: [31082, 22894, 23548, 30676, 31748]
  å°‡æ’é™¤ 5 éƒ¨é›»å½±ï¼Œå…± 80 ç­†è³‡æ–™
  æ’é™¤å¾Œå‰©é¤˜è³‡æ–™ç­†æ•¸: 1259
åŸºæœ¬ç¯©é¸å¾Œè³‡æ–™ç­†æ•¸: 860

=== ç¼ºå¤±å€¼æª¢æŸ¥ ===
Series([], dtype: int64)

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\prepared_data\preprocessed_full.csv
ğŸ“è³‡æ–™æ•¸é‡å°è¨ˆ:
   æ¬„ä½æ•¸: 21
   è³‡æ–™ç­†æ•¸: 860

=== ğŸ“æœ€çµ‚æ¬„ä½æ¸…å–® ===
 1. gov_id
 2. round_idx
 3. current_week_active_idx
 4. gap_real_week_2to1
 5. gap_real_week_1tocurrent
 6. boxoffice_week_2
 7. boxoffice_week_1
 8. audience_week_2
 9. audience_week_1
10. screens_week_2
11. screens_week_1
12. open_week1_days
13. open_week1_boxoffice
14. open_week1_boxoffice_daily_avg
15. open_week2_boxoffice
16. amount
17. release_year
18. film_length
19. is_restricted
20. release_month_sin
21. release_month_cos

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\prepared_data\preprocessed_features.csv
âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\prepared_data\preprocessed_target.csv

=== ğŸ“è³‡æ–™æ‘˜è¦ ===
             amount  boxoffice_week_1  current_week_active_idx
count  8.600000e+02      8.600000e+02               860.000000
mean   3.121327e+06      4.650099e+06                 9.026744
std    1.202070e+07      1.701927e+07                 6.978295
min    2.100000e+02      4.000000e+02                 3.000000
25%    2.446625e+04      4.544750e+04                 4.000000
50%    1.273745e+05      2.598440e+05                 7.000000
75%    8.495432e+05      1.470424e+06                11.000000
max    1.517199e+08      2.331174e+08                41.000000

ç‰¹å¾µçŸ©é™£ X: (860, 20)
ç›®æ¨™è®Šæ•¸ y: (860,)

==================================================
ğŸ” ç‰¹å¾µèˆ‡ç›®æ¨™ç›¸é—œæ€§ (Top 10)
==================================================
                       feature  correlation
              boxoffice_week_1     0.971244
               audience_week_1     0.967195
              boxoffice_week_2     0.879796
               audience_week_2     0.874353
          open_week2_boxoffice     0.528840
          open_week1_boxoffice     0.482571
                screens_week_1     0.444845
open_week1_boxoffice_daily_avg     0.434528
                screens_week_2     0.379010
                   film_length     0.291778

ğŸ“ è¨“ç·´é›†/æ¸¬è©¦é›†åˆ†å‰²çµæœ
è¨“ç·´é›†: 647 ç­† (99 éƒ¨é›»å½±)
æ¸¬è©¦é›†: 213 ç­† (25 éƒ¨é›»å½±)

æ¨¡å‹è¨“ç·´ç‰¹å¾µæ•¸: 19

==================================================
ğŸ” è¨“ç·´é›†ç¼ºå¤±å€¼æª¢æŸ¥
==================================================
âœ… ç„¡ç¼ºå¤±å€¼

==================================================
ğŸ”µ æ¨¡å‹ 1: Linear Regression
==================================================
MAE:  967,188
RMSE: 2,160,924
RÂ²:   0.9560

==================================================
ğŸ“ ç·šæ€§å›æ­¸æ¨¡å‹å…¬å¼
==================================================

æˆªè· (Intercept): -45,686,255.55

ç‰¹å¾µä¿‚æ•¸ (Coefficients):
                       feature    coefficient
                 is_restricted -335746.743619
             release_month_sin  170268.296500
             release_month_cos -165217.597462
                  release_year   22341.777353
               open_week1_days   20933.129531
            gap_real_week_2to1  -15769.408138
       current_week_active_idx   12850.967317
      gap_real_week_1tocurrent  -11742.715942
                screens_week_1    4782.036136
                screens_week_2    3598.771774
                   film_length    2491.445786
               audience_week_2    -360.653099
               audience_week_1     259.510435
              boxoffice_week_2       1.064598
open_week1_boxoffice_daily_avg      -0.129795
              boxoffice_week_1      -0.044321
          open_week1_boxoffice       0.010275
          open_week2_boxoffice       0.009348
                     round_idx       0.000000

âœ… ç·šæ€§å›æ­¸ä¿‚æ•¸å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\linear_regression_coefficients.csv

==================================================
ğŸ“ ç·šæ€§å›æ­¸å…¬å¼ (Top 10 é‡è¦ç‰¹å¾µ)
==================================================

y = -45,686,255.55
    - 335,746.74 Ã— is_restricted
    + 170,268.30 Ã— release_month_sin
    - 165,217.60 Ã— release_month_cos
    + 22,341.78 Ã— release_year
    + 20,933.13 Ã— open_week1_days
    - 15,769.41 Ã— gap_real_week_2to1
    + 12,850.97 Ã— current_week_active_idx
    - 11,742.72 Ã— gap_real_week_1tocurrent
    + 4,782.04 Ã— screens_week_1
    + 3,598.77 Ã— screens_week_2
    + ... (å…¶ä»–ç‰¹å¾µ)

==================================================
ğŸŸ¢ æ¨¡å‹ 2: LightGBM
==================================================
MAE:  1,276,380
RMSE: 4,260,668
RÂ²:   0.8289

==================================================
ğŸ“Š Top 10 é‡è¦ç‰¹å¾µ (LightGBM)
==================================================
                       feature  importance
              boxoffice_week_1         148
               audience_week_1         132
          open_week1_boxoffice          70
              boxoffice_week_2          69
                   film_length          53
               audience_week_2          53
          open_week2_boxoffice          35
                screens_week_2          28
open_week1_boxoffice_daily_avg          23
       current_week_active_idx          23

âœ… ç‰¹å¾µé‡è¦æ€§å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\feature_importance.csv
âœ… é æ¸¬çµæœåœ–å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\prediction_comparison.png

==================================================
ğŸ”¥ ç‰¹å¾µç›¸é—œæ€§ç†±åŠ›åœ–
==================================================
âœ… ç›¸é—œæ€§ç†±åŠ›åœ–å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\correlation_heatmap.png
âœ… ç›¸é—œæ€§çŸ©é™£å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\correlation_matrix.csv

==================================================
âš ï¸  é«˜åº¦ç›¸é—œçš„ç‰¹å¾µå° (|r| > 0.8)
==================================================
                     feature_1                      feature_2  correlation
              boxoffice_week_1                audience_week_1     0.997697
              boxoffice_week_2                audience_week_2     0.997530
          open_week1_boxoffice open_week1_boxoffice_daily_avg     0.990998
          open_week1_boxoffice           open_week2_boxoffice     0.970830
open_week1_boxoffice_daily_avg           open_week2_boxoffice     0.968835
              boxoffice_week_2               boxoffice_week_1     0.945666
               audience_week_2                audience_week_1     0.945360
              boxoffice_week_1                audience_week_2     0.943524
              boxoffice_week_2                audience_week_1     0.943142
                screens_week_2                 screens_week_1     0.927248

âœ… é«˜ç›¸é—œç‰¹å¾µå°å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\high_correlation_pairs.csv

âœ… æ¨¡å‹å·²å­˜æª”:
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\model_linear_regression.pkl
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\model_lightgbm.pkl
âœ… æ¸¬è©¦é›†é æ¸¬çµæœå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M1\M1_20251119_111826\test_predictions.csv

============================================================
âœ… è¨“ç·´å®Œæˆ: 2025-11-19 11:20:53
============================================================
