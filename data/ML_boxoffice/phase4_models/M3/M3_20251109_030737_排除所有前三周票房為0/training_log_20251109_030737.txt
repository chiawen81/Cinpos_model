============================================================
ğŸš€ æ¨¡å‹è¨“ç·´é–‹å§‹ (M3 - æ’é™¤å¤§ç‰‡æ¸¬è©¦): 2025-11-09 03:07:37
============================================================

å¾ config/exclude_movies.csv è®€å–æ’é™¤æ¸…å–®:
  ç™¼ç¾ 8 éƒ¨éœ€è¦æ’é™¤çš„é›»å½±
  æ’é™¤çš„ gov_id: [31082, 22894, 23548, 30676, 31748, 31222, 31570, 26514]
  å°‡æ’é™¤ 8 éƒ¨é›»å½±ï¼Œå…± 104 ç­†è³‡æ–™
  æ’é™¤å¾Œå‰©é¤˜è³‡æ–™ç­†æ•¸: 1235
åŸºæœ¬ç¯©é¸å¾Œè³‡æ–™ç­†æ•¸: 854

=== ç¼ºå¤±å€¼æª¢æŸ¥ ===
Series([], dtype: int64)

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030737\preprocessed_full.csv
ğŸ“è³‡æ–™æ•¸é‡å°è¨ˆ:
   æ¬„ä½æ•¸: 21
   è³‡æ–™ç­†æ•¸: 854

=== ğŸ“æœ€çµ‚æ¬„ä½æ¸…å–® ===
 1. gov_id
 2. round_idx
 3. current_week_active_idx
 4. gap_real_week_2to1
 5. gap_real_week_1tocurrent
 6. boxoffice_week_2
 7. boxoffice_week_1
 8. audience_week_2
 9. audience_week_1
10. screens_week_2
11. screens_week_1
12. open_week1_days
13. open_week1_boxoffice
14. open_week1_boxoffice_daily_avg
15. open_week2_boxoffice
16. amount
17. release_year
18. film_length
19. is_restricted
20. release_month_sin
21. release_month_cos

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030737\preprocessed_features.csv
âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030737\preprocessed_target.csv

=== ğŸ“è³‡æ–™æ‘˜è¦ ===
             amount  boxoffice_week_1  current_week_active_idx
count  8.540000e+02      8.540000e+02               854.000000
mean   3.142877e+06      4.682172e+06                 9.064403
std    1.206014e+07      1.707470e+07                 6.987970
min    2.100000e+02      4.000000e+02                 3.000000
25%    2.419875e+04      4.572175e+04                 4.000000
50%    1.312670e+05      2.687765e+05                 7.000000
75%    8.789920e+05      1.483940e+06                11.000000
max    1.517199e+08      2.331174e+08                41.000000

ç‰¹å¾µçŸ©é™£ X: (854, 20)
ç›®æ¨™è®Šæ•¸ y: (854,)

==================================================
ğŸ” ç‰¹å¾µèˆ‡ç›®æ¨™ç›¸é—œæ€§ (Top 10)
==================================================
                       feature  correlation
              boxoffice_week_1     0.971231
               audience_week_1     0.967181
              boxoffice_week_2     0.879737
               audience_week_2     0.874292
          open_week2_boxoffice     0.528528
          open_week1_boxoffice     0.482209
                screens_week_1     0.445054
open_week1_boxoffice_daily_avg     0.434114
                screens_week_2     0.379351
                   film_length     0.291081

ğŸ“ è¨“ç·´é›†/æ¸¬è©¦é›†åˆ†å‰²çµæœ (åŸå§‹)
è¨“ç·´é›†: 642 ç­† (96 éƒ¨é›»å½±)
æ¸¬è©¦é›†: 212 ç­† (25 éƒ¨é›»å½±)

============================================================
ğŸ¬ [M3 ç‰¹è‰²] æ¸¬è©¦é›†æ’é™¤å¤§ç‰‡æ¨£æœ¬
============================================================

éæ¿¾è¨­å®š:
  åŸºæº–æ¬„ä½: amount
  é–¾å€¼: 10,450,435 (ç¬¬ 95 ç™¾åˆ†ä½æ•¸ (æ’é™¤å‰ 5%))
  åˆªé™¤æ•´éƒ¨é›»å½±: æ˜¯

æ¸¬è©¦é›†ä¸­è¦æ’é™¤çš„é›»å½±:
  é›»å½±æ•¸: 6 éƒ¨
  æ¨£æœ¬æ•¸: 82 ç­†ï¼ˆåŒ…å«è©²é›»å½±çš„æ‰€æœ‰é€±æ¬¡ï¼‰
  gov_id: [29653, 30738, 30809, 31186, 31329, 31807]

éæ¿¾å¾Œçš„æ¸¬è©¦é›†:
  æ¨£æœ¬æ•¸: 130 ç­† (åŸå§‹: 212, æ¸›å°‘ 82 ç­†)
  é›»å½±æ•¸: 19 éƒ¨ (åŸå§‹: 25)
  ä¿ç•™æ¯”ä¾‹: 61.3%

éæ¿¾å¾Œçš„ amount åˆ†å¸ƒ:
  æœ€å°å€¼: 1,350
  æœ€å¤§å€¼: 8,233,350
  å¹³å‡å€¼: 589,047
  ä¸­ä½æ•¸: 76,502

æ¨¡å‹è¨“ç·´ç‰¹å¾µæ•¸: 19

==================================================
ğŸ” è¨“ç·´é›†ç¼ºå¤±å€¼æª¢æŸ¥
==================================================
âœ… ç„¡ç¼ºå¤±å€¼

==================================================
ğŸ”µ æ¨¡å‹ 1: Linear Regression
==================================================
MAE:  369,320
RMSE: 1,127,099
RÂ²:   0.0629

==================================================
ğŸŸ¢ æ¨¡å‹ 2: LightGBM
==================================================
MAE:  418,843
RMSE: 1,054,331
RÂ²:   0.1800

==================================================
ğŸŸ¡ æ¨¡å‹ 3: Decision Tree Regressor
==================================================
MAE:  218,723
RMSE: 644,208
RÂ²:   0.6939

==================================================
ğŸ“Š Top 10 é‡è¦ç‰¹å¾µ (LightGBM)
==================================================
                       feature  importance
              boxoffice_week_1         146
               audience_week_1         109
          open_week1_boxoffice          75
                   film_length          43
open_week1_boxoffice_daily_avg          41
               audience_week_2          37
              boxoffice_week_2          34
       current_week_active_idx          28
                screens_week_2          27
          open_week2_boxoffice          25

âœ… LightGBMç‰¹å¾µé‡è¦æ€§å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\feature_importance_lgb.csv

==================================================
ğŸ“Š Top 10 é‡è¦ç‰¹å¾µ (Decision Tree)
==================================================
                feature   importance
       boxoffice_week_1 7.847635e-01
        audience_week_1 2.151939e-01
         screens_week_1 1.362849e-05
         screens_week_2 1.295242e-05
        audience_week_2 6.791519e-06
        open_week1_days 3.333442e-06
   open_week2_boxoffice 3.136440e-06
current_week_active_idx 2.470593e-06
       boxoffice_week_2 2.912206e-07
     gap_real_week_2to1 0.000000e+00

âœ… Decision Treeç‰¹å¾µé‡è¦æ€§å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\feature_importance_dt.csv

âœ… é æ¸¬çµæœåœ–å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\prediction_comparison.png

âœ… æ¨¡å‹å·²å­˜æª”:
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\model_linear_regression.pkl
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\model_lightgbm.pkl
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\model_decision_tree.pkl
âœ… æ¸¬è©¦é›†é æ¸¬çµæœå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\test_predictions.csv
âœ… è¢«æ’é™¤çš„æ¨£æœ¬å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\excluded_samples.csv
âœ… è¢«æ’é™¤çš„é›»å½±çµ±è¨ˆå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\excluded_movies_summary.csv

============================================================
ğŸ“Š M3 æ¨¡å‹è¡¨ç¾ç¸½çµ (æ’é™¤å¤§ç‰‡å¾Œ)
============================================================
               æ¨¡å‹           MAE         RMSE       RÂ²
Linear Regression 369320.446212 1.127099e+06 0.062897
         LightGBM 418842.924461 1.054331e+06 0.179994
    Decision Tree 218723.040169 6.442084e+05 0.693863

âœ… æ¨¡å‹ç¸½çµå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030737\model_summary.csv

============================================================
âœ… è¨“ç·´å®Œæˆ: 2025-11-09 03:07:44
============================================================
