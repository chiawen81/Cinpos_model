============================================================
ğŸš€ æ¨¡å‹è¨“ç·´é–‹å§‹ (M3 - æ’é™¤å¤§ç‰‡æ¸¬è©¦): 2025-11-09 03:09:44
============================================================

å¾ config/exclude_movies.csv è®€å–æ’é™¤æ¸…å–®:
  ç™¼ç¾ 5 éƒ¨éœ€è¦æ’é™¤çš„é›»å½±
  æ’é™¤çš„ gov_id: [31082, 22894, 23548, 30676, 31748]
  å°‡æ’é™¤ 5 éƒ¨é›»å½±ï¼Œå…± 80 ç­†è³‡æ–™
  æ’é™¤å¾Œå‰©é¤˜è³‡æ–™ç­†æ•¸: 1259
åŸºæœ¬ç¯©é¸å¾Œè³‡æ–™ç­†æ•¸: 860

=== ç¼ºå¤±å€¼æª¢æŸ¥ ===
Series([], dtype: int64)

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030944\preprocessed_full.csv
ğŸ“è³‡æ–™æ•¸é‡å°è¨ˆ:
   æ¬„ä½æ•¸: 21
   è³‡æ–™ç­†æ•¸: 860

=== ğŸ“æœ€çµ‚æ¬„ä½æ¸…å–® ===
 1. gov_id
 2. round_idx
 3. current_week_active_idx
 4. gap_real_week_2to1
 5. gap_real_week_1tocurrent
 6. boxoffice_week_2
 7. boxoffice_week_1
 8. audience_week_2
 9. audience_week_1
10. screens_week_2
11. screens_week_1
12. open_week1_days
13. open_week1_boxoffice
14. open_week1_boxoffice_daily_avg
15. open_week2_boxoffice
16. amount
17. release_year
18. film_length
19. is_restricted
20. release_month_sin
21. release_month_cos

âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030944\preprocessed_features.csv
âœ… å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase3_prepare\M3_20251109_030944\preprocessed_target.csv

=== ğŸ“è³‡æ–™æ‘˜è¦ ===
             amount  boxoffice_week_1  current_week_active_idx
count  8.600000e+02      8.600000e+02               860.000000
mean   3.121327e+06      4.650099e+06                 9.026744
std    1.202070e+07      1.701927e+07                 6.978295
min    2.100000e+02      4.000000e+02                 3.000000
25%    2.446625e+04      4.544750e+04                 4.000000
50%    1.273745e+05      2.598440e+05                 7.000000
75%    8.495432e+05      1.470424e+06                11.000000
max    1.517199e+08      2.331174e+08                41.000000

ç‰¹å¾µçŸ©é™£ X: (860, 20)
ç›®æ¨™è®Šæ•¸ y: (860,)

==================================================
ğŸ” ç‰¹å¾µèˆ‡ç›®æ¨™ç›¸é—œæ€§ (Top 10)
==================================================
                       feature  correlation
              boxoffice_week_1     0.971244
               audience_week_1     0.967195
              boxoffice_week_2     0.879796
               audience_week_2     0.874353
          open_week2_boxoffice     0.528840
          open_week1_boxoffice     0.482571
                screens_week_1     0.444845
open_week1_boxoffice_daily_avg     0.434528
                screens_week_2     0.379010
                   film_length     0.291778

ğŸ“ è¨“ç·´é›†/æ¸¬è©¦é›†åˆ†å‰²çµæœ (åŸå§‹)
è¨“ç·´é›†: 647 ç­† (99 éƒ¨é›»å½±)
æ¸¬è©¦é›†: 213 ç­† (25 éƒ¨é›»å½±)

============================================================
ğŸ¬ [M3 ç‰¹è‰²] æ¸¬è©¦é›†æ’é™¤å¤§ç‰‡æ¨£æœ¬
============================================================

éæ¿¾è¨­å®š:
  åŸºæº–æ¬„ä½: amount
  é–¾å€¼: 18,388,465 (ç¬¬ 95 ç™¾åˆ†ä½æ•¸ (æ’é™¤å‰ 5%))
  åˆªé™¤æ•´éƒ¨é›»å½±: æ˜¯

æ¸¬è©¦é›†ä¸­è¦æ’é™¤çš„é›»å½±:
  é›»å½±æ•¸: 4 éƒ¨
  æ¨£æœ¬æ•¸: 66 ç­†ï¼ˆåŒ…å«è©²é›»å½±çš„æ‰€æœ‰é€±æ¬¡ï¼‰
  gov_id: [29653, 30717, 30739, 31794]

éæ¿¾å¾Œçš„æ¸¬è©¦é›†:
  æ¨£æœ¬æ•¸: 147 ç­† (åŸå§‹: 213, æ¸›å°‘ 66 ç­†)
  é›»å½±æ•¸: 21 éƒ¨ (åŸå§‹: 25)
  ä¿ç•™æ¯”ä¾‹: 69.0%

éæ¿¾å¾Œçš„ amount åˆ†å¸ƒ:
  æœ€å°å€¼: 880
  æœ€å¤§å€¼: 10,824,812
  å¹³å‡å€¼: 377,409
  ä¸­ä½æ•¸: 81,850

æ¨¡å‹è¨“ç·´ç‰¹å¾µæ•¸: 19

==================================================
ğŸ” è¨“ç·´é›†ç¼ºå¤±å€¼æª¢æŸ¥
==================================================
âœ… ç„¡ç¼ºå¤±å€¼

==================================================
ğŸ”µ æ¨¡å‹ 1: Linear Regression
==================================================
MAE:  318,001
RMSE: 766,925
RÂ²:   0.4897

==================================================
ğŸŸ¢ æ¨¡å‹ 2: LightGBM
==================================================
MAE:  190,157
RMSE: 408,181
RÂ²:   0.8554

==================================================
ğŸŸ¡ æ¨¡å‹ 3: Decision Tree Regressor
==================================================
MAE:  219,833
RMSE: 820,593
RÂ²:   0.4157

==================================================
ğŸ“Š Top 10 é‡è¦ç‰¹å¾µ (LightGBM)
==================================================
                       feature  importance
              boxoffice_week_1         148
               audience_week_1         132
          open_week1_boxoffice          70
              boxoffice_week_2          69
                   film_length          53
               audience_week_2          53
          open_week2_boxoffice          35
                screens_week_2          28
open_week1_boxoffice_daily_avg          23
       current_week_active_idx          23

âœ… LightGBMç‰¹å¾µé‡è¦æ€§å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\feature_importance_lgb.csv

==================================================
ğŸ“Š Top 10 é‡è¦ç‰¹å¾µ (Decision Tree)
==================================================
                feature  importance
       boxoffice_week_1    0.800193
        audience_week_1    0.199737
         screens_week_2    0.000023
current_week_active_idx    0.000011
   open_week1_boxoffice    0.000010
        audience_week_2    0.000010
         screens_week_1    0.000010
   open_week2_boxoffice    0.000003
       boxoffice_week_2    0.000002
      release_month_cos    0.000001

âœ… Decision Treeç‰¹å¾µé‡è¦æ€§å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\feature_importance_dt.csv

âœ… é æ¸¬çµæœåœ–å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\prediction_comparison.png

âœ… æ¨¡å‹å·²å­˜æª”:
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\model_linear_regression.pkl
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\model_lightgbm.pkl
   - C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\model_decision_tree.pkl
âœ… æ¸¬è©¦é›†é æ¸¬çµæœå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\test_predictions.csv
âœ… è¢«æ’é™¤çš„æ¨£æœ¬å·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\excluded_samples.csv
âœ… è¢«æ’é™¤çš„é›»å½±çµ±è¨ˆå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\excluded_movies_summary.csv

============================================================
ğŸ“Š M3 æ¨¡å‹è¡¨ç¾ç¸½çµ (æ’é™¤å¤§ç‰‡å¾Œ)
============================================================
               æ¨¡å‹           MAE          RMSE       RÂ²
Linear Regression 318000.740892 766924.525138 0.489659
         LightGBM 190156.556610 408181.159154 0.855436
    Decision Tree 219833.370345 820592.972352 0.415733

âœ… æ¨¡å‹ç¸½çµå·²å­˜æª”: C:\Users\Wen\Desktop\Projects\Cinpos_model\data\ML_boxoffice\phase4_models\M3_20251109_030944\model_summary.csv

============================================================
âœ… è¨“ç·´å®Œæˆ: 2025-11-09 03:09:50
============================================================
