# 工作日誌

> **用途**: 記錄專案開發進度、重要決策和待辦事項
> **更新頻率**: 每次重大進展或變更時更新
> **最後更新**: 2025-11-30

---

## 📋 目前狀態

### 專案階段
- [x] Lv1: 建立資料集（自動化爬蟲）
- [x] Lv2: 資料清洗與特徵工程
- [x] Lv3: 建立預測模型
- [x] Lv4: 商業應用展示（Web 網站）

### 當前工作重點
- 專案結構重構完成，進入維護與優化階段
- Web 應用程式持續開發中
- 模型效能監控與優化

---

## 📅 近期更新

### 2025-11-30
**重大專案結構重構**
- **建立 `src/ml/` 統一 ML 模組管理**
  - `ML_boxoffice/` → `ml/boxoffice/`
  - `ML_recommend/` → `ml/recommend/`
  - `fetch_common_data/` → `ml/pipelines/`
  - `common/` → `ml/common/`
- **重組展示資料結構**
  - `src/intro/` → `presentation/` (移至專案根目錄)
  - 建立清晰的子目錄：images/, models/
- **簡化 Web 應用結構**
  - 移除 `business/detail/` 巢狀層級
  - 採用 Flask Application Factory Pattern
  - 統一虛擬環境於專案根目錄
- **更新所有 import 路徑**
  - 批次更新 34+ Python 檔案
  - 修正路徑計算（增加 .parent 層級）
  - 驗證 Web App 和 ML 腳本正常運作
- **重新訓練模型**
  - 新模型：`M1_20251129_185254/model_linear_regression.pkl`
  - 所有系統測試通過

### 2025-11-29
- 重建 `spec_model.md` 文件（原文件為亂碼）
- 補齊文件規範，創建 work_log 資料夾
- 更新文件結構，移除 `for_developer` 層級

---

## 🎯 待辦事項

### 高優先級
- [ ] 待補充

### 中優先級
- [ ] 待補充

### 低優先級
- [ ] 待補充

---

## 📝 重要決策記錄

### 2025-11-30 - 專案結構全面重構
- **背景**:
  - 原始結構存在多個問題：ML 模組分散、虛擬環境巢狀、Web 應用路徑過深
  - 需要建立更清晰、符合業界標準的專案結構

- **決策內容**:
  1. 建立 `src/ml/` 統一管理所有機器學習相關模組
  2. 將 `presentation/` 移至專案根目錄，與程式碼分離
  3. 簡化 Web 應用結構，採用 Flask Application Factory Pattern
  4. 統一使用專案根目錄的虛擬環境

- **理由**:
  - **模組化管理**: ML 相關功能統一管理，便於維護和擴展
  - **職責分離**: 程式碼、文件、展示資料各司其職
  - **符合最佳實踐**: 遵循 Flask 和 Python 專案的業界標準
  - **降低複雜度**: 減少巢狀層級，簡化路徑管理

- **影響範圍**:
  - 所有 ML 模組的 import 路徑
  - Web 應用的路徑計算
  - 文件中的路徑引用
  - 需要更新 README、CLAUDE.md 等文件

---

## 🐛 已知問題

### [問題描述]
- **發現日期**:
- **影響程度**:
- **暫時解決方案**:
- **根本解決方案**:

---

## 📚 相關文件

### 工作日誌
- [票房預測模型優化流程](./work_log/WORK_LOG_票房預測模型優化流程.md)
- [模型優化進度](./work_log/WORK_LOG_模型優化進度.md)
- [模型評估與模型產出](./work_log/WORK_LOG_模型評估與模型產出_20251119.md)

### 技術文件
- [模型優化路線圖](./model/ml_模型優化路線圖.md) - 詳細技術分析與優化方案
- [資料過濾工具使用](./model/data_資料過濾工具.md) - filter_data.py 腳本使用說明
- [模型規格](./spec_model.md) - 模型整體規格說明

---

## 💡 備註

*記錄任何需要注意的細節、想法或未來改進方向*
