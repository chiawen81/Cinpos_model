# 電影票房預測專案 - 概述

## 專案目標

預測電影「當週票房」，協助電影發行商和戲院進行排片決策。

## 核心預測任務
```
輸入: 
- 前兩週的票房、人數、院線數
- 累積表現（截至上週）
- 開片實力（首輪數據）
- 市場資訊（年份、發行商、票價等）

輸出:
- 當週票房（萬元）
```

## 資料規模

- **電影數量**: 約 500 部
- **時間跨度**: 2020-2025 年
- **平均週數**: 每部電影 6 週資料
- **訓練樣本**: 約 1500-2000 筆（每部電影產生多筆樣本）

## 關鍵特性

### 1. 多輪次支持
- 首輪、次輪、三輪... 皆可預測
- 不同輪次衰減模式不同

### 2. 跳週處理
- 電影可能中斷上映（票房=0）
- 透過跳週標記（gap_*）讓模型理解中斷

### 3. 時間感知
- 真實週次: 反映生命週期階段
- 活躍週次: 反映實際上映週數
- 兩者結合提供完整時間資訊

### 4. 避免資料洩漏
- 所有特徵嚴格限定為「預測時可知」
- 累積資訊不包含當週
- 無任何未來資訊

## 建模策略

### Phase 1: Baseline
- 模型: XGBoost / LightGBM
- 特徵: 全部 33 個特徵
- 評估: 時間切分（按年份）

### Phase 2: 優化
- 特徵工程: 交互特徵、衰減速度
- 模型: 分輪次建模（首輪 vs 次輪）
- 調參: Optuna / GridSearch

### Phase 3: 部署
- 滾動預測: 用預測值預測更遠的週次
- 監控: 追蹤預測誤差
- 更新: 定期納入新資料重訓練

## 技術棧

- **語言**: Python 3.8+
- **資料處理**: Pandas, NumPy
- **建模**: XGBoost, LightGBM, Scikit-learn
- **視覺化**: Matplotlib, Seaborn
- **版本管理**: Git

## 專案結構
```
movie-boxoffice-prediction/
├── data/
│   ├── raw/              # 原始資料
│   ├── processed/        # 處理後資料
│   └── features/         # 特徵工程結果
├── docs/                 # 文檔（本資料夾）
├── notebooks/            # Jupyter notebooks
├── src/
│   ├── data/            # 資料處理
│   ├── features/        # 特徵工程
│   ├── models/          # 模型訓練
│   └── evaluation/      # 模型評估
├── config/              # 配置檔
├── tests/               # 單元測試
└── README.md
```

## 成功標準

### 預測準確度
- 首輪 MAPE < 25%
- 次輪 MAPE < 35%
- 整體 RMSE < 350 萬

### 業務價值
- 協助排片決策
- 提前識別黑馬/爆雷片
- 優化宣傳資源配置