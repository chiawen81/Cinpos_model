# 💡 文件系統使用與維護指南
> **目的**：讓任何人（新成員、未來的你、AI Agent）快速理解文件結構並維持文件一致性  
> **最後更新**：2025-11-29

---

# 📖 目錄
- [文件架構總覽](#文件架構總覽)
- [使用情境指南](#使用情境指南)
  - [1. 新成員上手](#1-新成員上手)
  - [2. 深入技術主題](#2-深入技術主題)
  - [3. 模型優化](#3-模型優化)
  - [4. 快速查詢](#4-快速查詢)
- [維護規範](#維護規範)
  - [開發前需更新](#開發前需更新)
  - [開發後需更新](#開發後需更新)
  - [視情況更新](#視情況更新)
  - [定期檢查](#定期檢查)
  - [AI 使用流程](#ai-使用流程)
- [補充：Claude Code 必讀文件](#補充claude-code-必讀文件)

---

# 🎯 文件架構總覽

## docs/ 目錄結構
```
docs/
│
├─ 📌 主索引（入口）
│   ├── spec_model.md         ← 模型總覽
│   ├── spec_web.md           ← 網站架構總覽
│   ├── spec_web_api.md       ← API 規格入口
│   ├── spec_guidelines.md    ← 文件撰寫規範
│   └── WORK_LOG.md           ← 目前進度、重要紀錄
│
├─ 📁 詳細技術文件
│   ├── model/                ← 模型相關的技術細節(模型技術、資料、特徵、流程)
│   ├── web/                  ← 網站相關的技術細節(前端/後端邏輯)
│   └── shared/               ← 共用工具、Pipeline、設定
│
└─ 📝 工作紀錄
    └── work_log/             ← 重大開發過程紀錄、逐日/逐階段日誌
```

---

# 🎯 使用情境指南

## 情境1. 新成員上手
**目的：快速弄懂專案全貌**

### 推薦閱讀順序
| 目標 | 文件 |
|------|------|
| 專案概觀 | `README.md` |
| AI/工具開發規範 | `CLAUDE.md` |
| 模型架構概要 | `docs/spec_model.md` |
| 網站架構概要 | `docs/spec_web.md` |
| API 規格 | `docs/spec_web_api.md` |
| 最新進度 | `docs/WORK_LOG.md` |

**提醒**  
- 先看概述，再深入模組  
- 不要直接跳 model/ 或 shared/  
- 文件撰寫依照 `spec_guidelines.md`

---

## 情境2. 深入技術主題
**目的：掌握主軸後展開細節**

| 主題 | 想了解 | 文件 |
|------|---------|------|
| 資料 | 欄位定義 | docs/model/data_資料欄位定義.md |
| 資料 | 資料處理規則 | docs/model/data_資料處理規則.md |
| 資料 | Pipeline 流程 | docs/model/data_資料處理流程.md |
| 機器學習 | 特徵配置 | docs/model/ml_特徵配置.yaml |
| Pipeline | 如何修改 | docs/shared/pipeline_修改指南.md |

---

## 情境3. 模型優化
**目的：從現況 → 改進規劃 → 實驗紀錄 → 結果產出**

| 開發任務 | 文件 |
|----------|------|
| 規劃優化方向 | docs/model/ml_模型優化路線圖.md | docs/model/ |
| 實驗紀錄 | docs/work_log/WORK_LOG_票房預測模型優化流程.md |
| 追蹤進度 | docs/work_log/WORK_LOG_模型優化進度.md |
| 紀錄評估結果 | docs/work_log/WORK_LOG_模型評估與模型產出_20251119.md |

### 文件更新流程
```
【實驗進行中】
→ 更新 WORK_LOG_票房預測模型優化流程.md

【實驗完成後】
→ 更新 WORK_LOG_模型優化進度.md
→ 若有重大洞察，更新 ml_模型優化路線圖.md
```

---

## 情境4. 快速查詢
**最快找到你要的資訊**

| 想知道 | 文件 |
|--------|-------|
| 某欄位定義 | model/data_資料欄位定義.md |
| 資料處理規則 | model/data_資料處理規則.md |
| Pipeline 流程 | model/data_資料處理流程.md |
| API 規格 | spec_web_api.md |
| 網站頁面邏輯 | spec_web.md |
| 特定工具用法 | model/data_資料過濾工具.md |
| 當前進度 | WORK_LOG.md |
| 過去決策 | WORK_LOG.md → 重要決策記錄 |
| 模型優化方向 | model/ml_模型優化路線圖.md |
| Pipeline 修改方式 | shared/pipeline_修改指南.md |

---

# 🎯 維護規範

## 開發前需更新（必做）
| 變更內容 | 文件 |
|---------|------|
| 新增/刪除欄位 | data_資料欄位定義.md、ml_特徵配置.yaml |
| 新增/修改 API | spec_web_api.md |
| 變更核心功能 | 對應 spec_*.md |

---

## 開發後需更新
| 情況 | 更新位置 |
|------|----------|
| 完成重要功能 | 更新 WORK_LOG.md（近期更新）＋ 建立 docs/work_log/ 新日誌 |
| 做出重要決策 | 更新 WORK_LOG.md（重要決策記錄） |

---

## 視情況更新
| 情況 | 文件 |
|------|-------|
| 完成優化實驗 | WORK_LOG_票房預測模型優化流程.md |
| 新優化方向 | ml_模型優化路線圖.md |

---

## 定期檢查

### 每週
```
□ WORK_LOG.md 是否同步？
□ 待辦狀態更新？
□ 本週進展是否記錄？
```

### 每月
```
□ 文件連結是否有效？
□ 文件版本號是否需更新？
□ 已完成工作日誌是否歸檔？
□ 文件彼此是否一致？
```

---

## AI 使用流程

1. **啟動 Claude 前**  
   → 查看 `WORK_LOG.md` 的目前進度與代辦  

2. **開始一個任務前**  
   → 執行 `/dev-start`（Claude 會指引相關文件）  

3. **開發中任何時候**  
   → 執行 `/docs-update`（Claude 會檢查需更新文件）  

4. **任務告一段落**  
   → 執行 `/dev-done`（Claude 建議需同步文件與 commit message）  
   → 若屬重大功能：新增 `docs/work_log/*` 更新 `WORK_LOG.md`  

---

# 🎯 補充：

## 1. Claude Code 會讀：
1. `spec_model.md`  
2. `model/data_資料欄位定義.md`  
3. `model/ml_特徵配置.yaml`

請務必確保：
- 文件內容 **永遠最新**  
- `ml_特徵配置.yaml` 格式正確且程式可讀  
